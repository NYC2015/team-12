+function(n){function t(t,i,r){mapp.lib.ajax({data:{action:i,key:r},cache:!0,spinner:t,callback:function(i){var u="",r,f;for(r in i.data)f=n(t).val()==r?" selected ":"",u+='<option value="'+r+'" '+f+">"+i.data[r]+"<\/option>";n(t).html(u);n(t).change()}})}n(document).ready(function(){n('input[name="mappress_options[defaultIcon]"]').on("change.mapp.iconpicker",function(t,i){mappl10n.options.defaultIcon=i;n("[data-mapp-iconpicker]").mappIconPicker("setImage")});n("[data-mapp-grid]").on("add.mapp.grid",function(t,i){n("[data-mapp-iconpicker]",i).mappIconPicker()});jQuery("[data-mapp-grid]").on("change",".mapp-rule-key",function(){var i=jQuery(this).closest("tr");t(jQuery(".mapp-rule-values",i),"mapp_get_rule_values",n(this).val())});n("#mapp_styles").edt();n(".mapp-expand").on("focus",function(){n(this).attr({rows:20,cols:100})});n(".mapp-expand").on("blur",function(){n(this).attr({rows:1,cols:20})})})}(jQuery);jQuery.fn.edt=function(n){var n=jQuery.extend({add:mappl10n.add,del:mappl10n.del,template:null,callback:null},n);return this.each(function(){var t=this,i;jQuery(this).parent().append("<input type='button' class='button edt-table-add' value='"+n.add+"' />");n.template||(n.template=jQuery("tr:last",t).clone(),jQuery(n.template).find(":input").each(function(){switch(this.type){case"hidden":case"password":case"select-multiple":case"select-one":case"text":case"textarea":jQuery(this).val("");break;case"checkbox":case"radio":this.checked=!1}}));i="<td><a href='#' class='edt-table-delete'>"+n.del+"<\/a><\/td>";jQuery("tbody > tr",t).append(i);n.template=jQuery(n.template).append(i);jQuery(this).next(".edt-table-add").click(function(){var i=jQuery(n.template).clone();return jQuery(t).append(i),jQuery(".edt-table-delete",t).show(),n.callback&&n.callback(i),!1});jQuery(this).click(function(n){if(jQuery(n.target).hasClass("edt-table-delete"))return jQuery(n.target).closest("tr").remove(),!1})})}